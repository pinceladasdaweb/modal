/*! modal v0.0.3 | (c) 2016 Pedro Rogerio | https://github.com/pinceladasdaweb/modal */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Modal=e()}(this,function(){"use strict";var t=function(e){return this instanceof t?content?(this.content=e.content,this.minHeight=e.minHeight||250,this.maxWidth=e.maxWidth||600,this.onOpen=e.onOpen||void 0,this.onClose=e.onClose||void 0,void this.ready()):void console.warn("Modal: Do not instantiate the plugin without defining the content"):new t(e)};return t.prototype={whichAnimationEvent:function(){var t,e,n=document.createElement("fakeelement");t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in t)if(void 0!==n.style[e])return t[e]},hasClass:function(t,e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)},addClass:function(t,e){this.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},removeClass:function(t,e){this.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},createEls:function(t,e,n){var i,o=document.createElement(t);for(i in e)e.hasOwnProperty(i)&&(o[i]=e[i]);return n&&o.appendChild(document.createTextNode(n)),o},drawElements:function(){var t,e,n,i,o=this.whichAnimationEvent(),s=document.createDocumentFragment();t=this.createEls("div",{className:"overlay"}),e=this.createEls("div",{className:"modal fade-and-drop",id:"modal"}),n=this.createEls("div",{className:"modal-content"}),i=this.createEls("button",{className:"modal-close close-button",type:"button"},"â•³"),e.style.minHeight="number"==typeof this.minHeight?this.minHeight+"px":this.minHeight,e.style.maxWidth="number"==typeof this.maxWidth?this.maxWidth+"px":this.maxWidth,e.appendChild(i),e.appendChild(n),s.appendChild(t),s.appendChild(e),document.body.appendChild(s),t.addEventListener(o,function(){this.addClass(e,"open")}.bind(this),!1)},injectHtml:function(){var t=document.querySelector(".modal-content");this.content instanceof Node?(this.content.hasAttribute("style")&&this.content.removeAttribute("style"),t.appendChild(this.content)):t.insertAdjacentHTML("beforeend",this.content),"function"==typeof this.onOpen&&this.onOpen.call()},close:function(){var t=document.body,e=this.whichAnimationEvent(),n=document.querySelector(".overlay"),i=document.querySelector(".modal");null!==n&&null!==i&&(this.addClass(n,"overlay-hide"),this.removeClass(i,"open"),n.addEventListener(e,function(){t.removeChild(n),t.removeChild(i)},!1),"function"==typeof this.onClose&&this.onClose.call())},events:function(){var t=document.querySelector(".modal-close"),e=document.body;e.addEventListener("keyup",function(t){27===(t.keyCode||t.which)&&this.close()}.bind(this),!1),t.addEventListener("click",function(t){this.close()}.bind(this),!1)},ready:function(){this.drawElements(),this.injectHtml(),this.events()}},t});