/*! modal v0.0.4 | (c) 2016 Pedro Rogerio | https://github.com/pinceladasdaweb/modal */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Modal=t()}(this,function(){"use strict";var e=function(t){return this instanceof e?content?(this.content=t.content,this.minHeight=t.minHeight||250,this.maxWidth=t.maxWidth||600,this.onOpen=t.onOpen||void 0,this.onClose=t.onClose||void 0,void this.ready()):void console.warn("Modal: Do not instantiate the plugin without defining the content"):new e(t)};return e.prototype={whichAnimationEvent:function(){var e,t,n=document.createElement("fakeelement");e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in e)if(void 0!==n.style[t])return e[t]},hasClass:function(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)},addClass:function(e,t){this.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},removeClass:function(e,t){this.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},createEls:function(e,t,n){var i,o=document.createElement(e);for(i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);return n&&o.appendChild(document.createTextNode(n)),o},drawElements:function(){var e,t,n,i,o=this.whichAnimationEvent(),s=document.createDocumentFragment();e=this.createEls("div",{className:"overlay"}),t=this.createEls("div",{className:"modal fade-and-drop",id:"modal"}),n=this.createEls("div",{className:"modal-content"}),i=this.createEls("button",{className:"modal-close close-button",type:"button"},"Ã—"),t.style.minHeight="number"==typeof this.minHeight?this.minHeight+"px":this.minHeight,t.style.maxWidth="number"==typeof this.maxWidth?this.maxWidth+"px":this.maxWidth,t.appendChild(i),t.appendChild(n),s.appendChild(e),s.appendChild(t),document.body.appendChild(s),e.addEventListener(o,function(){this.addClass(t,"open")}.bind(this),!1)},injectHtml:function(){var e=document.querySelector(".modal-content");if(this.content instanceof Node){var t=this.content.cloneNode(!0);t.hasAttribute("style")&&t.removeAttribute("style"),this.hasClass(t,"hide")&&this.removeClass(t,"hide"),e.appendChild(t)}else e.insertAdjacentHTML("beforeend",this.content);"function"==typeof this.onOpen&&this.onOpen.call()},close:function(){var e=document.body,t=this.whichAnimationEvent(),n=document.querySelector(".overlay"),i=document.querySelector(".modal");null!==n&&null!==i&&(this.addClass(n,"overlay-hide"),this.removeClass(i,"open"),n.addEventListener(t,function(){e.removeChild(n),e.removeChild(i)},!1),"function"==typeof this.onClose&&this.onClose.call())},events:function(){var e=document.querySelector(".modal-close"),t=document.body;t.addEventListener("keyup",function(e){27===(e.keyCode||e.which)&&this.close()}.bind(this),!1),e.addEventListener("click",function(e){this.close()}.bind(this),!1)},ready:function(){this.drawElements(),this.injectHtml(),this.events()}},e});